{"ast":null,"code":"var _jsxFileName = \"C:\\\\React\\\\material-ui\\\\src\\\\UpdateProducts.js\",\n    _s = $RefreshSig$();\n\nimport Header from \"./Header\";\nimport { withRouter } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction UpdateProducts(props) {\n  _s();\n\n  const [error, setError] = useState(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [name, setName] = useState(\"\");\n  const [camera, setCamera] = useState(\"\");\n  const [display, setDisplay] = useState(\"\");\n  const [memory, setMemory] = useState(\"\");\n  const history = useHistory();\n  console.log(\"props\", props.match.params.id);\n  const [data, setData] = useState([]);\n  console.log(\"hasil-useEffect data >>\", data);\n  useEffect(async () => {\n    try {\n      let user = JSON.parse(localStorage.getItem(\"user-info\"));\n      const token = user.data.token;\n      fetch(\"http://localhost/directus/public/tokoonline/items/products/\" + props.match.params.id, {\n        method: \"GET\",\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }).then(res => res.json()).then(result => {\n        setIsLoaded(true);\n        setData(result.data);\n        console.log(\"result.data\", result.data);\n        setName(result.data.name);\n        setDisplay(result.data.display);\n        setCamera(result.data.camera);\n        setMemory(result.data.memory);\n      }, error => {\n        setIsLoaded(true);\n        setError(error);\n      });\n    } catch (e) {\n      localStorage.clear();\n    }\n  }, []);\n\n  async function editProduct(id) {\n    try {\n      let formSimpan = {\n        name: name,\n        camera: camera,\n        display: display,\n        memory: memory\n      };\n      console.log(\"JSON.stringify\", JSON.stringify(formSimpan));\n      let user = JSON.parse(localStorage.getItem(\"user-info\"));\n      const token = user.data.token;\n      fetch(\"http://localhost/directus/public/tokoonline/items/products/\" + id, {\n        method: \"PATCH\",\n        body: JSON.stringify(formSimpan),\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(response => response.json()).then(result => console.log(\"ini hasilnya: \", result)).catch(error => console.log(\"error\", error));\n      console.log(\"datadata\", data);\n      alert(\"Product has been updated!\");\n      history.push(\"/\");\n    } catch (e) {}\n  }\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error: \", error.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 12\n    }, this);\n  } else if (!isLoaded) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 12\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Update Products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-sm-6 offset-sm-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          type: \"text\",\n          name: \"name\",\n          defaultValue: data.name,\n          onChange: e => setName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          type: \"text\",\n          name: \"memory\",\n          defaultValue: data.memory,\n          onChange: e => setMemory(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          type: \"text\",\n          name: \"display\",\n          defaultValue: data.display,\n          onChange: e => setDisplay(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          type: \"text\",\n          name: \"camera\",\n          defaultValue: data.camera,\n          onChange: e => setCamera(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-danger\",\n          onClick: () => editProduct(data.id),\n          children: \"Update Product\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this);\n  }\n}\n\n_s(UpdateProducts, \"W8QEwtuL0Xnfvn6H3gqoASOopvA=\", false, function () {\n  return [useHistory];\n});\n\n_c = UpdateProducts;\nexport default _c2 = withRouter(UpdateProducts);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"UpdateProducts\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["C:/React/material-ui/src/UpdateProducts.js"],"names":["Header","withRouter","useState","useEffect","useHistory","UpdateProducts","props","error","setError","isLoaded","setIsLoaded","name","setName","camera","setCamera","display","setDisplay","memory","setMemory","history","console","log","match","params","id","data","setData","user","JSON","parse","localStorage","getItem","token","fetch","method","headers","Authorization","then","res","json","result","e","clear","editProduct","formSimpan","stringify","body","response","catch","alert","push","message","target","value"],"mappings":"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","sourcesContent":["import Header from \"./Header\";\nimport { withRouter } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction UpdateProducts(props) {\n  const [error, setError] = useState(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  const [name, setName] = useState(\"\");\n  const [camera, setCamera] = useState(\"\");\n  const [display, setDisplay] = useState(\"\");\n  const [memory, setMemory] = useState(\"\");\n  const history = useHistory();\n\n  console.log(\"props\", props.match.params.id);\n  const [data, setData] = useState([]);\n  console.log(\"hasil-useEffect data >>\", data);\n\n  useEffect(async () => {\n    try {\n      let user = JSON.parse(localStorage.getItem(\"user-info\"));\n      const token = user.data.token;\n      fetch(\n        \"http://localhost/directus/public/tokoonline/items/products/\" +\n          props.match.params.id,\n        {\n          method: \"GET\",\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      )\n        .then((res) => res.json())\n        .then(\n          (result) => {\n            setIsLoaded(true);\n            setData(result.data);\n            console.log(\"result.data\", result.data);\n            setName(result.data.name);\n            setDisplay(result.data.display);\n            setCamera(result.data.camera);\n            setMemory(result.data.memory);\n          },\n          (error) => {\n            setIsLoaded(true);\n            setError(error);\n          }\n        );\n    } catch (e) {\n      localStorage.clear();\n    }\n  }, []);\n\n  async function editProduct(id) {\n    try {\n      let formSimpan = {\n        name: name,\n        camera: camera,\n        display: display,\n        memory: memory,\n      };\n\n      console.log(\"JSON.stringify\", JSON.stringify(formSimpan));\n\n      let user = JSON.parse(localStorage.getItem(\"user-info\"));\n      const token = user.data.token;\n\n      fetch(\n        \"http://localhost/directus/public/tokoonline/items/products/\" + id,\n        {\n          method: \"PATCH\",\n          body: JSON.stringify(formSimpan),\n          headers: {\n            Authorization: `Bearer ${token}`,\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      )\n        .then((response) => response.json())\n        .then((result) => console.log(\"ini hasilnya: \", result))\n        .catch((error) => console.log(\"error\", error));\n\n      console.log(\"datadata\", data);\n\n      alert(\"Product has been updated!\");\n      history.push(\"/\");\n    } catch (e) {}\n  }\n\n  if (error) {\n    return <div>Error: {error.message}</div>;\n  } else if (!isLoaded) {\n    return <div>Loading...</div>;\n  } else {\n    return (\n      <div>\n        <Header />\n        <h1>Update Products</h1>\n        <div className=\"col-sm-6 offset-sm-3\">\n          <br />\n          <input\n            className=\"form-control\"\n            type=\"text\"\n            name=\"name\"\n            defaultValue={data.name}\n            onChange={(e) => setName(e.target.value)}\n          />\n          <input\n            className=\"form-control\"\n            type=\"text\"\n            name=\"memory\"\n            defaultValue={data.memory}\n            onChange={(e) => setMemory(e.target.value)}\n          />\n          <input\n            className=\"form-control\"\n            type=\"text\"\n            name=\"display\"\n            defaultValue={data.display}\n            onChange={(e) => setDisplay(e.target.value)}\n          />\n          <input\n            className=\"form-control\"\n            type=\"text\"\n            name=\"camera\"\n            defaultValue={data.camera}\n            onChange={(e) => setCamera(e.target.value)}\n          />\n          <br />\n          <br />\n          <br />\n          <button\n            className=\"btn btn-danger\"\n            onClick={() => editProduct(data.id)}>\n            Update Product\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\nexport default withRouter(UpdateProducts);\n"]},"metadata":{},"sourceType":"module"}